<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>ูุคุฐู  ุงูุจูุจ</title>
    <link rel="stylesheet" href="style.css">
<script src="script.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@300;400;600;800&family=Tajawal:wght@300;500;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ุงููุคุฐู">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/4358/4358666.png">
   <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="ุงููุคุฐู">
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/4358/4358666.png">
    <link rel="manifest" href="manifest.json">
    
    <style>
        
    </style>
</head>
<body data-theme="kaaba">
    
    <div class="pattern-overlay"></div>
    <div class="loader" id="loader">
        <i class="fas fa-kaaba fa-spin fa-3x" style="color:#d4af37"></i>
        <div class="loader-text">ุฌุงุฑู ุงูุชุญููู...</div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <audio id="adhan-audio" src="https://www.islamcan.com/audio/adhan/azan2.mp3" preload="auto"></audio>
 <audio id="click-sound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" preload="auto"></audio>
    <audio id="quran-audio" preload="auto"></audio>

    <div class="app-shell">
        <div style="position:absolute; top:20px; left:20px; z-index:10; cursor:pointer" onclick="toggleMute()">
            <i class="fas fa-volume-mute" id="mute-icon" style="font-size:1.2rem; opacity:0.7"></i>
        </div>

        <!-- 1. ุงูุฑุฆูุณูุฉ -->
        <div id="page-home" class="page-container page active">
            <div class="dashboard-header">
                <div class="clock-info">
                    <div class="digital-time" id="digital-clock">00:00:00</div>
                    <div class="date-row"><i class="far fa-calendar-alt date-icon"></i> <span id="hijri-date">...</span></div>
                    <div class="date-row"><i class="fas fa-globe date-icon"></i> <span id="greg-date">...</span></div>
                    <div class="weather-info" id="weather-info" style="display:none">
                        <i class="fas fa-thermometer-half"></i>
                        <span class="weather-temp" id="weather-temp">--ยฐC</span>
                        <span id="weather-desc">--</span>
                    </div>
                </div>
                <div class="analog-clock">
                    <div class="hand hour" id="hour-hand"></div>
                    <div class="hand min" id="min-hand"></div>
                    <div class="hand sec" id="sec-hand"></div>
                </div>
            </div>

            <div class="location-box" style="flex-direction: column; gap: 5px;">
    <div class="current-location-display" id="location-display-box" onclick="toggleLocationSearch()">
        <i class="fas fa-map-marker-alt" style="color:var(--accent)"></i>
        <span id="location-name-display">ุฌุงุฑู ุชุญุฏูุฏ ุงููููุน...</span>
        <i class="fas fa-chevron-down" style="font-size:0.8rem; opacity:0.7"></i>
    </div>

    <select id="theme-select" onchange="changeTheme(this.value)" style="margin-top:5px">
        <option value="kaaba">๐ ุงููุนุจุฉ</option>
        <option value="medina">๐ ุงููุฏููุฉ</option>
        <option value="royal">๐ ูููู</option>
        <option value="paper">๐ ูุฑูู</option>
        <option value="midnight">๐ ูููู</option>
        <option value="nature">๐ฟ ุทุจูุนุฉ</option>
        <option value="ramadan">๐ ุฑูุถุงู</option>
        <option value="hajj">๐ ุญุฌ</option>
        <option value="sunset">๐ ุบุฑูุจ</option>
        <option value="ocean">๐ ูุญูุท</option>
        <option value="desert">๐๏ธ ุตุญุฑุงุก</option>
        <option value="golden">๐ ุฐูุจู</option>
        <option value="sky">๐ค๏ธ ุณูุงุก</option>
        <option value="purple-rain">๐ ุฃุฑุฌูุงูู</option>
    </select>
</div>

<div id="location-modal" class="modal-overlay" style="display:none;">
    <div class="modal-card">
        <div class="modal-header">
            <h3>๐ ุชุบููุฑ ุงููููุน</h3>
            <button onclick="toggleLocationSearch()" class="close-btn"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body">
            <button onclick="CityManager.detectLocation()" class="btn-outline" style="width:100%; margin-bottom:15px; border-color:var(--accent)">
                <i class="fas fa-crosshairs"></i> ุงุณุชุฎุฏุงู ูููุนู ุงูุญุงูู (GPS)
            </button>
            
            <div style="position:relative">
                <input type="text" id="global-city-search" class="card-input" placeholder="ุงูุชุจ ุงุณู ูุฏููุชู ุฃู ูุฑูุชู..." oninput="CityManager.searchOnline(this.value)">
                <div id="online-search-results" class="search-results-list" style="display:none"></div>
            </div>
        </div>
    </div>
</div>


            <div class="main-circle">
                <div class="next-label">ุงูุตูุงุฉ ุงููุงุฏูุฉ</div>
                <div class="next-name" id="next-prayer">...</div>
                <div class="countdown" id="countdown">--:--:--</div>
            </div>

            <div id="prayers-list"></div>
            
            <!-- ุจุทุงูุฉ ุงููุนูููุงุช ุงูุณุฑูุนุฉ -->
            <div class="quick-info">
                <div style="background: var(--card-bg); padding: 10px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 0.8rem; opacity: 0.8;">ุงูุฃุฐูุงุฑ ุงูููู</div>
                    <div style="font-size: 1.2rem; font-weight: bold; color: var(--accent);" id="today-dhikr-count">0</div>
                </div>
                <div style="background: var(--card-bg); padding: 10px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 0.8rem; opacity: 0.8;">ุงูุตููุงุช ุงูููู</div>
                    <div style="font-size: 1.2rem; font-weight: bold; color: var(--accent);" id="today-prayer-count">0</div>
                </div>
                <div style="background: var(--card-bg); padding: 10px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 0.8rem; opacity: 0.8;">ุฏูุงุฆู ุงููุฑุขู</div>
                    <div style="font-size: 1.2rem; font-weight: bold; color: var(--accent);" id="today-quran-count">0</div>
                </div>
            </div>
            
            <!-- ุจุทุงูุฉ ุงูุฅูุฌุงุฒุงุช -->
            <div class="achievements-card">
                <div style="font-weight: bold; color: var(--accent); margin-bottom: 10px;">
                    <i class="fas fa-trophy"></i> ุฅูุฌุงุฒุงุช ุงูููู
                </div>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; text-align: center;">
                    <div>
                        <div style="font-size: 1.5rem; font-weight: bold; color: var(--accent);" id="achievement-prayers">0</div>
                        <div style="font-size: 0.8rem;">ุตููุงุช</div>
                    </div>
                    <div>
                        <div style="font-size: 1.5rem; font-weight: bold; color: var(--accent);" id="achievement-dhikr">0</div>
                        <div style="font-size: 0.8rem;">ุฃุฐูุงุฑ</div>
                    </div>
                    <div>
                        <div style="font-size: 1.5rem; font-weight: bold; color: var(--accent);" id="achievement-quran">0</div>
                        <div style="font-size: 0.8rem;">ุฏูุงุฆู ูุฑุขู</div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 10px;">
                    <button onclick="addQuranMinute()" class="btn-outline" style="padding: 5px 15px; font-size: 0.8rem;">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุฏูููุฉ ูุฑุขู
                    </button>
                </div>
            </div>
            
            <!-- ุจุทุงูุฉ ุงูุทูุณ -->
            <div class="weather-card" id="weather-card" style="display:none">
                <div>
                    <div style="font-weight:bold; margin-bottom:5px">๐ค๏ธ ุญุงูุฉ ุงูุทูุณ</div>
                    <div id="weather-details">--</div>
                </div>
                <div style="text-align:center">
                    <div id="weather-icon" style="font-size:2rem">โ๏ธ</div>
                </div>
            </div>
            
            <!-- ุจุทุงูุฉ ุงูููู ุงููุฌุฑู -->
            <div class="weather-card" style="background: linear-gradient(135deg, #8B4513, #D2691E); color: white;">
                <div>
                    <div style="font-weight:bold; margin-bottom:5px">๐ ุงูููู ุงููุฌุฑู</div>
                    <div id="hijri-day-info">...</div>
                </div>
                <div style="text-align:center">
                    <div style="font-size:2rem">๐</div>
                </div>
            </div>
            
            <!-- ุฅุธูุงุฑ ูุนูููุงุช ุงูุญุณุงุจ -->
            <div class="calculation-info">
                <div><i class="fas fa-info-circle"></i> ุทุฑููุฉ ุงูุญุณุงุจ: <span id="method-name">ุฃู ุงููุฑู</span></div>
                <div><i class="fas fa-map-marker-alt"></i> ุงููููุน: <span id="location-name">ููุฉ ุงูููุฑูุฉ</span></div>
                <div><i class="fas fa-clock"></i> ุชุญุฏูุซ ุชููุงุฆู ูู ุฏูููุฉ</div>
            </div>
        </div>

        <!-- 2. ุงูุชูููู ุงููุญุณูู -->
        <div id="page-calendar" class="page-container page">
            <h2 class="section-title">๐ ููุงููุช ุงูุดูุฑ</h2>
            
            <div style="margin-bottom:15px; text-align:center">
                <button onclick="prevMonth()" class="btn-outline"><i class="fas fa-arrow-right"></i> ุงูุดูุฑ ุงูุณุงุจู</button>
                <span id="current-month" style="margin:0 10px; font-weight:bold"></span>
                <button onclick="nextMonth()" class="btn-outline">ุงูุดูุฑ ุงูุชุงูู <i class="fas fa-arrow-left"></i></button>
            </div>
            
            <div class="calendar-wrapper">
                <table class="cal-table">
                    <thead>
                        <tr>
                            <th>ุงูููู</th><th>ูุฌุฑ</th><th>ุธูุฑ</th><th>ุนุตุฑ</th><th>ูุบุฑุจ</th><th>ุนุดุงุก</th>
                        </tr>
                    </thead>
                    <tbody id="calendar-body">
                    </tbody>
                </table>
            </div>
            <div style="text-align:center; margin-top:20px">
                <div class="download-counter">
                    <button onclick="exportToCSV()" class="btn-outline" style="flex:1">
                        <i class="fas fa-file-export"></i> ุชุตุฏูุฑ CSV
                    </button>
                    <button onclick="takeScreenshot()" class="btn-outline" style="flex:1">
                        <i class="fas fa-camera"></i> ููุทุฉ ุดุงุดุฉ
                    </button>
                </div>
            </div>
        </div>

        <!-- 3. ุงููุจูุฉ ุงููุญุณูุฉ -->
        <div id="page-qibla" class="page-container page">
            <div class="compass-container">
                <h2 class="section-title">๐งญ ุงุชุฌุงู ุงููุจูุฉ</h2>
                <div class="compass-ring" id="compass">
                    <div class="kaaba-icon"><i class="fas fa-kaaba"></i></div>
                    <div class="compass-arrow" id="compass-arrow"></div>
                </div>
                <div style="font-size:2rem; font-weight:bold; margin:20px 0">
                    <span id="qibla-degree">0</span>ยฐ 
                    <div style="font-size:1rem; opacity:0.8" id="qibla-direction">...</div>
                </div>
                <button onclick="startCompass()" class="btn-outline" id="compass-btn">
                    <i class="fas fa-compass"></i> ุชูุนูู ุงูุจูุตูุฉ
                </button>
                <div style="font-size:0.8rem; opacity:0.6; margin-top:10px">
                    ุฃุฏุฑ ุฌูุงุฒู ููุนุฑูุฉ ุงุชุฌุงู ุงููุจูุฉ
                </div>
                
                <div class="calculation-info" style="margin-top:20px">
                    <div><i class="fas fa-calculator"></i> ุฅุญุฏุงุซูุงุช ุงููุจูุฉ: 21.4225ยฐN, 39.8262ยฐE</div>
                    <div><i class="fas fa-map-pin"></i> ุงุชุฌุงู ุงููุจูุฉ ูู ูููุนู ุงูุญุงูู</div>
                </div>
            </div>
        </div>

        <!-- 4. ุงูุฃุฐูุงุฑ ุงููุญุณูุฉ ูุน Dropdown -->
        <div id="page-athkar" class="page-container page">
            <h2 class="section-title">๐ฟ ุงููุณุจุญุฉ</h2>
            
            <div class="tasbih-container">
                <select class="dhikr-selector" id="dhikr-select" onchange="changeDhikr(this.value)">
                    <option value="0">ุณุจุญุงู ุงููู (33 ูุฑุฉ)</option>
                    <option value="1">ุงูุญูุฏ ููู (33 ูุฑุฉ)</option>
                    <option value="2">ุงููู ุฃูุจุฑ (34 ูุฑุฉ)</option>
                    <option value="3">ูุง ุฅูู ุฅูุง ุงููู (100 ูุฑุฉ)</option>
                    <option value="4">ุฃุณุชุบูุฑ ุงููู (100 ูุฑุฉ)</option>
                    <option value="5">ุณุจุญุงู ุงููู ูุจุญูุฏู (100 ูุฑุฉ)</option>
                    <option value="6">ูุงุญูู ููุง ููุฉ ุฅูุง ุจุงููู (100 ูุฑุฉ)</option>
                    <option value="7">ุญุณุจู ุงููู ููุนู ุงููููู (100 ูุฑุฉ)</option>
                    <option value="8">ุณุจุญุงู ุงููู ุงูุนุธูู ูุจุญูุฏู (100 ูุฑุฉ)</option>
                </select>
                
                <div class="dhikr-display" id="dhikr-text">ุณุจุญุงู ุงููู</div>
                
                <div class="tasbih-btn" onclick="incrementTasbih()" id="tasbih-button">
                    <div class="count-display" id="tasbih-count">0</div>
                    <div style="font-size:0.8rem; margin-top:5px; opacity:0.8">ุงุถุบุท ููุชุณุจูุญ</div>
                    <div style="font-size:0.7rem; margin-top:2px; opacity:0.6" id="dhikr-target">/ 33</div>
                </div>
                
                <div class="dhikr-controls">
                    <button onclick="resetTasbih()" class="btn-outline" style="flex:1">
                        <i class="fas fa-redo"></i> ุชุตููุฑ
                    </button>
                    <button onclick="saveDhikr()" class="btn-outline" style="flex:1">
                        <i class="fas fa-save"></i> ุญูุธ
                    </button>
                    <button onclick="loadDhikr()" class="btn-outline" style="flex:1">
                        <i class="fas fa-undo"></i> ุงุณุชุนุงุฏุฉ
                    </button>
                </div>
                
                <div style="margin-top:30px; background:var(--card-bg); padding:15px; border-radius:15px">
                    <div style="font-weight:bold; margin-bottom:10px; color:var(--accent)">ูุฌููุน ุงูุฃุฐูุงุฑ ุงูููู</div>
                    <div id="daily-total">0 ุฐูุฑ</div>
                </div>
            </div>
        </div>

        <!-- 5. ุงูููุงุณุจุงุช ูุงูุฃุนูุงุฏ -->
        <div id="page-events" class="page-container page">
            <h2 class="section-title">๐ ุงูููุงุณุจุงุช ูุงูุฃุนูุงุฏ</h2>
            
            <!-- ุดุฑูุท ุงูุจุญุซ -->
            <div style="margin-bottom: 20px;">
                <div style="position: relative;">
                    <input type="text" id="search-events" class="card-input" placeholder="๐ ุงุจุญุซ ูู ุงูููุงุณุจุงุช..." 
                           oninput="searchEvents()" style="padding-right: 45px;">
                    <i class="fas fa-search" style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--accent);"></i>
                </div>
            </div>
            
            <!-- ุนุฏุงุฏ ุฑูุถุงู -->
            <div id="ramadan-counter" class="ramadan-banner" style="display:none">
                <div>
                    <div style="font-size:1.2rem; font-weight:bold">๐ ุดูุฑ ุฑูุถุงู ุงููุจุงุฑู</div>
                    <div id="ramadan-days">- ููู</div>
                </div>
                <div style="font-size:2rem; color:#ffd700">
                    <i class="fas fa-moon"></i>
                </div>
            </div>
            
            <!-- ุฅุดุนุงุฑ ุงูููุงุณุจุฉ ุงููุงุฏูุฉ -->
            <div id="next-event-notification" class="event-notification" style="display:none">
                <i class="fas fa-bell"></i>
                <div>
                    <div style="font-weight:bold" id="next-event-title"></div>
                    <div id="next-event-time"></div>
                </div>
            </div>
            
            <!-- ูุงุฆูุฉ ุงูููุงุณุจุงุช -->
            <div class="events-grid" id="events-list">
            </div>
            
            <div style="text-align:center; margin-top:20px; opacity:0.7; font-size:0.9rem">
                <i class="fas fa-info-circle"></i> ุงูุชูุงุฑูุฎ ุญุณุจ ุงูุชูููู ุงููุฌุฑู ุงููุชููุน
            </div>
        </div>

        <!-- 6. ุจุทุงูุงุช ุงููุนุงูุฏุฉ -->
        <div id="page-greetings" class="page-container page">
            <h2 class="section-title">๐ ุจุทุงูุงุช ุงููุนุงูุฏุฉ</h2>
            
            <div class="greeting-card-creator">
                <div class="card-preview-container" id="card-preview">
                    <div class="card-background" id="card-bg"></div>
                    <div class="card-content">
                        <div class="card-logo" id="card-logo">
                            <i class="fas fa-mosque"></i>
                        </div>
                        <div class="card-name" id="card-name-display">ุงุณูู ููุง</div>
                        <div class="card-message" id="card-message-display">ุชููุฆุฉ ุทูุจุฉ ุจููุงุณุจุฉ ุงูุนูุฏ</div>
                    </div>
                </div>
                
                <div class="card-controls">
                    <input type="text" class="card-input" id="card-name" placeholder="ุฃุฏุฎู ุงุณูู" oninput="updateCard()">
                    <input type="text" class="card-input" id="card-message" placeholder="ุฃุฏุฎู ุฑุณุงูุชู" oninput="updateCard()" value="ุชููุฆุฉ ุทูุจุฉ ุจููุงุณุจุฉ ุงูุนูุฏ">
                    
                    <div style="margin: 15px 0">
                        <label style="display:block; margin-bottom:5px">ุงุฎุชุฑ ุดุนุงุฑ:</label>
                        <div style="display:flex; gap:10px">
                            <div class="card-logo-small" onclick="selectLogo('mosque')" style="width:50px; height:50px; border-radius:50%; background:var(--accent); display:flex; align-items:center; justify-content:center; cursor:pointer">
                                <i class="fas fa-mosque"></i>
                            </div>
                            <div class="card-logo-small" onclick="selectLogo('kaaba')" style="width:50px; height:50px; border-radius:50%; background:#d4af37; display:flex; align-items:center; justify-content:center; cursor:pointer">
                                <i class="fas fa-kaaba"></i>
                            </div>
                            <div class="card-logo-small" onclick="selectLogo('star')" style="width:50px; height:50px; border-radius:50%; background:#4CAF50; display:flex; align-items:center; justify-content:center; cursor:pointer">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="card-logo-small" onclick="selectLogo('moon')" style="width:50px; height:50px; border-radius:50%; background:#2196F3; display:flex; align-items:center; justify-content:center; cursor:pointer">
                                <i class="fas fa-moon"></i>
                            </div>
                        </div>
                    </div>
                    
                    <label style="display:block; margin-bottom:10px">ุงุฎุชุฑ ุฎูููุฉ:</label>
                    <div class="background-grid" id="background-grid">
                    </div>
                    
                    <div style="margin-top:15px">
                        <label style="display:block; margin-bottom:5px">ุฑูุน ุฎูููุฉ ูู ุงูุฌูุงุฒ:</label>
                        <input type="file" id="bg-upload" accept="image/*" style="display:none" onchange="uploadBackground(event)">
                        <button onclick="document.getElementById('bg-upload').click()" class="btn-outline" style="width:100%">
                            <i class="fas fa-upload"></i> ุฑูุน ุตูุฑุฉ ูู ุงูุฌูุงุฒ
                        </button>
                    </div>
                    
                    <div class="card-buttons">
                        <button onclick="downloadCard()" class="btn-outline" style="flex:1">
                            <i class="fas fa-download"></i> ุชุญููู ุงูุจุทุงูุฉ
                        </button>
                        <button onclick="shareCard()" class="btn-outline" style="flex:1">
                            <i class="fas fa-share"></i> ูุดุงุฑูุฉ
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 7. ุงููุฑุขู ุงููุฑูู -->
        <div id="page-quran" class="page-container page">
            <h2 class="section-title">๐ ุงููุฑุขู ุงููุฑูู</h2>
  
            <div class="quran-container">
                <div style="text-align:center; margin-bottom:20px">
                    <input type="text" class="card-input" id="search-quran" placeholder="ุงุจุญุซ ูู ุงููุฑุขู..." style="width:100%" oninput="searchQuran()">
                </div>
                
                <div style="margin-bottom:20px">
                    <label style="display:block; margin-bottom:5px">ุงุฎุชุฑ ุงููุงุฑุฆ:</label>
                    <select class="card-input" id="qari-select" onchange="changeQari()">
    </select>

                </div>
                          
                <div class="surah-list" id="surah-list">
                </div>
                
                <div class="ayah-player" id="ayah-player" style="display:none">
                    <div style="font-size:1.2rem; font-weight:bold" id="current-surah">ุณูุฑุฉ ุงููุงุชุญุฉ</div>
                    <div style="font-family:'Amiri'; font-size:1.5rem; margin:15px 0" id="current-ayah">ุจูุณููู ุงูููููู ุงูุฑููุญููููฐูู ุงูุฑููุญูููู</div>
                    <div class="player-controls">
                        <button onclick="playQuran()" class="btn-outline">
                            <i class="fas fa-play"></i> ุชุดุบูู
                        </button>
                        <button onclick="pauseQuran()" class="btn-outline">
                            <i class="fas fa-pause"></i> ุฅููุงู
                        </button>
                        <button onclick="stopQuran()" class="btn-outline">
                            <i class="fas fa-stop"></i> ููู
                        </button>
                        <button onclick="downloadAyah()" class="btn-outline">
                            <i class="fas fa-download"></i> ุชุญููู
                        </button>
                    </div>
                    <div style="margin-top:10px; font-size:0.8rem; opacity:0.7" id="qari-info">ุงููุงุฑุฆ: ุนุจุฏ ุงูุจุงุณุท ุนุจุฏ ุงูุตูุฏ</div>
</div></div></div>
    
  

        <!-- 8. ุงูุฃุฏุนูุฉ -->
        <div id="page-dua" class="page-container page">
            <h2 class="section-title">๐ ุงูุฃุฏุนูุฉ ุงูููููุฉ</h2>
            
            <!-- ุดุฑูุท ุงูุจุญุซ -->
            <div style="margin-bottom: 20px;">
                <div style="position: relative;">
                    <input type="text" id="search-duas" class="card-input" placeholder="๐ ุงุจุญุซ ูู ุงูุฃุฏุนูุฉ..." 
                           oninput="searchDuas()" style="padding-right: 45px;">
                    <i class="fas fa-search" style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--accent);"></i>
                </div>
            </div>
            
            <div class="dua-container">
                <div class="dua-categories" id="dua-categories">
                    <div class="dua-category active" onclick="filterDua('all')">ุงููู</div>
                    <div class="dua-category" onclick="filterDua('morning')">ุฃุฏุนูุฉ ุงูุตุจุงุญ</div>
                    <div class="dua-category" onclick="filterDua('evening')">ุฃุฏุนูุฉ ุงููุณุงุก</div>
                    <div class="dua-category" onclick="filterDua('prayer')">ุฃุฏุนูุฉ ุงูุตูุงุฉ</div>
                    <div class="dua-category" onclick="filterDua('general')">ุฃุฏุนูุฉ ุนุงูุฉ</div>
                </div>
                
                <div id="dua-list">
                </div>
            </div>
        </div>

      
<!-- 8. ุฎุชูู ูุฑุขู -->
<div id="page-khatmah" class="page-container page">
    <h2 class="section-title">๐ฟ ุฎุชูุฉ ุงููุฑุขู</h2>

    <div id="khatmah-setup" style="display:none;">
        <div class="khatmah-wizard">
            <i class="fas fa-book-open fa-3x" style="color:var(--accent); margin-bottom:15px"></i>
            <h3>ุงุตูุน ุฎุทุฉ ุฎุชูุชู</h3>
            <p style="opacity:0.8; margin-bottom:20px">ุญุฏุฏ ุงููุฏุฉ ุงูุชู ุชุฑูุฏ ุฃู ุชุฎุชู ูููุง ุงููุฑุขู ุงููุฑูู</p>
            
            <div style="margin-bottom:20px">
                <label style="display:block; margin-bottom:10px">ุนุฏุฏ ุงูุฃูุงู:</label>
                <input type="number" id="khatmah-days" class="card-input" placeholder="ูุซูุงู: 30" value="30" min="1">
            </div>

            <div style="background:var(--card-bg); padding:15px; border-radius:10px; margin-bottom:20px; font-size:0.9rem">
                <i class="fas fa-calculator"></i> ุงููุชูุฌุฉ ุงููุชููุนุฉ:<br>
                <span id="khatmah-preview" style="color:var(--accent); font-weight:bold; font-size:1.1rem">--</span>
            </div>

            <button onclick="KhatmahManager.createPlan()" class="btn-outline" style="width:100%; background:var(--accent); color:var(--bg-color)">
                <i class="fas fa-check"></i> ุจุฏุก ุงูุฎุชูุฉ
            </button>
        </div>
    </div>

    <div id="khatmah-dashboard" style="display:none;">
        <div class="khatmah-header">
            <div class="khatmah-circle">
                <svg viewBox="0 0 36 36" class="circular-chart">
                    <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                    <path class="circle" id="khatmah-progress-circle" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                </svg>
                <div class="percentage">
                    <span id="khatmah-percent">0%</span>
                    <span style="font-size:0.8rem; display:block; opacity:0.7">ููุชูู</span>
                </div>
            </div>
            <div class="khatmah-stats">
                <div><i class="fas fa-flag-checkered"></i> ุงููุฏู: <span id="target-days">0</span> ููู</div>
                <div><i class="fas fa-book"></i> ุงูุตูุญุงุช: <span id="current-page-display">0</span> / 604</div>
                <div><i class="fas fa-calendar-alt"></i> ุงูููุงูุฉ: <span id="end-date-display">--</span></div>
            </div>
        </div>

        <div class="khatmah-daily-card">
            <div class="daily-header">
                <h3>๐ ูุฑุฏู ุงูููู</h3>
                <div class="page-range" id="daily-range">ุตู 1 ุฅูู ุตู 20</div>
            </div>
            
            <div id="khatmah-prayers-list" class="khatmah-tasks">
                </div>
        </div>

        <div style="margin-top:20px; display:flex; gap:10px">
            <button onclick="KhatmahManager.updateManualPage()" class="btn-outline" style="flex:1">
                <i class="fas fa-edit"></i> ุชุนุฏูู ุงูุตูุญุฉ
            </button>
            <button onclick="KhatmahManager.deletePlan()" class="btn-outline" style="flex:1; border-color:#ff4444; color:#ff4444">
                <i class="fas fa-trash"></i> ุฅูุบุงุก ุงูุฎุทุฉ
            </button>
        </div>
    </div>
</div>

        <!-- 10. ุงููุณุงุจูุงุช ุงูุฏูููุฉ -->
        <div id="page-quiz" class="page-container page">
            <h2 class="section-title">๐ ุงููุณุงุจูุงุช ุงูุฏูููุฉ</h2>
            
            <div class="quiz-container">
                <div class="quiz-card" id="quiz-card">
                    <div class="quiz-question" id="quiz-question">ูุง ูู ุงูุณูุฑุฉ ุงูุชู ุชุณูู ููุจ ุงููุฑุขูุ</div>
                    <div class="quiz-options" id="quiz-options">
                    </div>
                </div>
                
                <div style="display:flex; gap:10px; margin-top:15px">
                    <button onclick="nextQuestion()" class="btn-outline" style="flex:1">
                        <i class="fas fa-forward"></i> ุงูุณุคุงู ุงูุชุงูู
                    </button>
                    <button onclick="newQuiz()" class="btn-outline" style="flex:1">
                        <i class="fas fa-sync"></i> ูุณุงุจูุฉ ุฌุฏูุฏุฉ
                    </button>
                </div>
                
                <div class="quiz-score" id="quiz-score">
                    ุงูููุงุท: 0
                </div>
            </div>
        </div>

        <!-- 11. ุงูุจุซ ุงููุจุงุดุฑ --> 
       <div id="page-live" class="page-container page">
            <h2 class="section-title">๐น ุงูุจุซ ุงููุจุงุดุฑ</h2>
            
            <div class="live-container" style="padding:20px">
                
                <div class="stream-card" style="background:var(--card-bg); border-radius:15px; padding:15px; margin-bottom:15px">
                    <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:10px">
                        <div style="display:flex; align-items:center; gap:10px">
                            <i class="fas fa-kaaba" style="color:#d4af37; font-size:1.5rem"></i>
                            <div>
                                <div style="font-weight:bold">ุงูุญุฑู ุงูููู</div>
                                <div style="font-size:0.8rem; opacity:0.7">ููุฉ ุงูููุฑูุฉ</div>
                            </div>
                        </div>
                        <button onclick="playMakkahStream()" class="btn-outline" style="padding:5px 15px">
                            <i class="fas fa-play"></i> ุชุดุบูู
                        </button>
                    </div>
                    <div class="stream-container" id="makkah-stream" style="display:none">
                        </div>
                    <div id="makkah-alternative" style="text-align:center; padding:20px; background:rgba(0,0,0,0.1); border-radius:10px">
                        <div style="font-size:3rem; margin-bottom:10px">๐</div>
                        <div style="margin-bottom:15px">ุจุซ ูุจุงุดุฑ 24 ุณุงุนุฉ</div>
                        <div style="display:flex; justify-content:center; gap:10px; flex-wrap:wrap">
                            <button onclick="openYouTubeMakkah()" class="btn-outline">
                                <i class="fab fa-youtube"></i> ูุชุญ ููุชููุจ
                            </button>
                            <button onclick="playRadioMakkah()" class="btn-outline">
                                <i class="fas fa-volume-up"></i> ุฑุงุฏูู ุตูุชู
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="stream-card" style="background:var(--card-bg); border-radius:15px; padding:15px; margin-bottom:15px">
                    <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:10px">
                        <div style="display:flex; align-items:center; gap:10px">
                            <i class="fas fa-mosque" style="color:#4CAF50; font-size:1.5rem"></i>
                            <div>
                                <div style="font-weight:bold">ุงูุญุฑู ุงููุฏูู</div>
                                <div style="font-size:0.8rem; opacity:0.7">ุงููุฏููุฉ ุงููููุฑุฉ</div>
                            </div>
                        </div>
                        <button onclick="playMadinahStream()" class="btn-outline" style="padding:5px 15px">
                            <i class="fas fa-play"></i> ุชุดุบูู
                        </button>
                    </div>
                    <div class="stream-container" id="madinah-stream" style="display:none">
                         </div>
                    <div id="madinah-alternative" style="text-align:center; padding:20px; background:rgba(0,0,0,0.1); border-radius:10px">
                        <div style="font-size:3rem; margin-bottom:10px">๐</div>
                        <div style="margin-bottom:15px">ุจุซ ูุจุงุดุฑ 24 ุณุงุนุฉ</div>
                        <div style="display:flex; justify-content:center; gap:10px; flex-wrap:wrap">
                            <button onclick="openYouTubeMadinah()" class="btn-outline">
                                <i class="fab fa-youtube"></i> ูุชุญ ููุชููุจ
                            </button>
                            <button onclick="playRadioMadinah()" class="btn-outline">
                                <i class="fas fa-volume-up"></i> ุฑุงุฏูู ุตูุชู
                            </button>
                        </div>
                    </div>
                </div>

                <div class="stream-card" style="background:var(--card-bg); border-radius:15px; padding:15px; margin-bottom:15px; border-right: 5px solid #8e44ad;">
                    <div style="display:flex; align-items:center; justify-content:space-between;">
                        <div style="display:flex; align-items:center; gap:10px">
                            <div style="width:45px; height:45px; background:rgba(142, 68, 173, 0.2); border-radius:50%; display:flex; align-items:center; justify-content:center; color:#8e44ad; font-size:1.2rem">
                                <i class="fas fa-microphone-alt"></i>
                            </div>
                            <div>
                                <div style="font-weight:bold">ุฅุฐุงุนุฉ ุงููุฑุขู ุงููุฑูู</div>
                                <div style="font-size:0.8rem; opacity:0.7">ุจุซ ูุจุงุดุฑ ูู ุงููุงูุฑุฉ</div>
                            </div>
                        </div>
                        <button onclick="playRadioCairo()" class="btn-outline" style="padding:5px 15px; border-color:#8e44ad; color:var(--text-color)">
                            <i class="fas fa-play"></i> ุงุณุชูุงุน
                        </button>
                    </div>
                </div>

                <button onclick="StreamManager.stopAllStreams()" class="btn-outline" style="width:100%; margin-top:10px; border-color:#ff4444; color:#ff4444">
                    <i class="fas fa-stop-circle"></i> ุฅููุงู ุฌููุน ุงูุจุซูุซ
                </button>

                <div class="calculation-info" style="margin-top:20px">
                    <div><i class="fas fa-wifi"></i> ููุถู ุงุณุชุฎุฏุงู WiFi ูุถูุงู ุงูุฌูุฏุฉ</div>
                    <div><i class="fas fa-volume-up"></i> ููููู ุงูุชุญูู ุจุงูุตูุช ูู ุฒุฑ ุงูุตูุช ุจุงูุฃุนูู</div>
                </div>
            </div>
        </div>



        <!-- 12. ูุชุชุจุน ุงูุตูุงุฉ -->
        <div id="page-prayer-tracker" class="page-container page">
            <h2 class="section-title">๐ ูุชุชุจุน ุงูุตูุงุฉ</h2>
            
            <div class="tracker-container" style="padding:20px">
                <div style="background:var(--card-bg); border-radius:15px; padding:20px; margin-bottom:20px">
                    <div style="display:flex; justify-content:space-between; margin-bottom:15px">
                        <div style="font-weight:bold">ุตูุงุฉ ุงูููู: <span id="today-date"></span></div>
                        <div style="color:var(--accent); font-weight:bold" id="today-score">0%</div>
                    </div>
                    
                    <div id="prayer-tracker-list">
                    </div>
                </div>
                
                <div style="background:var(--card-bg); border-radius:15px; padding:15px; margin-bottom:15px">
                    <div style="font-weight:bold; margin-bottom:10px">๐ ุฅุญุตุงุฆูุงุช ุงูุฃุณุจูุน</div>
                    <div id="prayer-chart" style="width:100%; height:200px"></div>
                </div>
                
                <div class="tracker-controls" style="display:flex; gap:10px">
                    <button onclick="resetTodayPrayers()" class="btn-outline" style="flex:1">
                        <i class="fas fa-redo"></i> ุฅุนุงุฏุฉ ุชุนููู ุงูููู
                    </button>
                    <button onclick="viewStats()" class="btn-outline" style="flex:1">
                        <i class="fas fa-chart-bar"></i> ุงูุฅุญุตุงุฆูุงุช
                    </button>
                </div>
            </div>
        </div>

        <!-- 13. ุงูุฅุนุฏุงุฏุงุช -->
        <div id="page-settings" class="page-container page">
            <h2 class="section-title">โ๏ธ ุงูุฅุนุฏุงุฏุงุช</h2>
            
            <div class="settings-option">
                <span><i class="fas fa-volume-up"></i> ุตูุช ุงูุฃุฐุงู</span>
                <label class="switch">
                    <input type="checkbox" id="adhan-toggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-option">
                <span><i class="fas fa-mouse-pointer"></i> ุตูุช ุงูููุฑุงุช</span>
                <label class="switch">
                    <input type="checkbox" id="click-toggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-option">
                <span><i class="fas fa-vibrate"></i> ุงูุงูุชุฒุงุฒ</span>
                <label class="switch">
                    <input type="checkbox" id="vibrate-toggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-option">
                <span><i class="fas fa-bell"></i> ุชูุจููุงุช ุงูุตูุงุฉ</span>
                <label class="switch">
                    <input type="checkbox" id="notification-toggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-option">
                <span><i class="fas fa-thermometer-half"></i> ุนุฑุถ ุงูุทูุณ</span>
                <label class="switch">
                    <input type="checkbox" id="weather-toggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-option">
                <span><i class="fas fa-compass"></i> ุชุญุฏูุฏ ุงููููุน ุงูุชููุงุฆู</span>
                <label class="switch">
                    <input type="checkbox" id="geolocation-toggle" onchange="toggleGeolocation()">
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-option">
    <span><i class="fas fa-calculator"></i> ุทุฑููุฉ ุงูุญุณุงุจ</span>
    <select id="method-select" style="width:150px" onchange="changeCalculationMethod()">
    </select>
</div>

            
            <!-- ูุงุฆูุฉ ุงูุตูุญุงุช ุงูุฅุถุงููุฉ -->
            <div style="margin-top:30px">
                <h3 class="section-title">๐ ุงูุตูุญุงุช ุงูุฅุถุงููุฉ</h3>
                <div style="display:grid; grid-template-columns:repeat(2, 1fr); gap:10px">
 <div class="nav-sub-item" data-page="quran" style="background:var(--card-bg); padding:15px; border-radius:10px; text-align:center; cursor:pointer">
        <i class="fas fa-book-open" style="font-size:1.5rem; margin-bottom:5px; color:var(--accent)"></i>
        <div>ุงููุฑุขู ุงููุฑูู</div>
    </div>
                    <div class="nav-sub-item" data-page="dua" style="background:var(--card-bg); padding:15px; border-radius:10px; text-align:center; cursor:pointer">
                        <i class="fas fa-hands-praying" style="font-size:1.5rem; margin-bottom:5px"></i>
                        <div>ุงูุฃุฏุนูุฉ</div>
                    </div>
                    <div class="nav-sub-item" data-page="quiz" style="background:var(--card-bg); padding:15px; border-radius:10px; text-align:center; cursor:pointer">
                        <i class="fas fa-trophy" style="font-size:1.5rem; margin-bottom:5px"></i>
                        <div>ุงููุณุงุจูุงุช</div>
                    </div>
                    <div class="nav-sub-item" data-page="prayer-tracker" style="background:var(--card-bg); padding:15px; border-radius:10px; text-align:center; cursor:pointer">
                        <i class="fas fa-chart-line" style="font-size:1.5rem; margin-bottom:5px"></i>
                        <div>ูุชุชุจุน ุงูุตูุงุฉ</div>
                    </div>
                    <div class="nav-sub-item" data-page="greetings" style="background:var(--card-bg); padding:15px; border-radius:10px; text-align:center; cursor:pointer">
                        <i class="fas fa-gift" style="font-size:1.5rem; margin-bottom:5px"></i>
                        <div>ุจุทุงูุงุช</div>
                    </div>
                    <div class="nav-sub-item" data-page="events" style="background:var(--card-bg); padding:15px; border-radius:10px; text-align:center; cursor:pointer">
                        <i class="fas fa-calendar-day" style="font-size:1.5rem; margin-bottom:5px"></i>
                        <div>ุงูููุงุณุจุงุช</div>
                    </div>
                </div>
            </div>
            <div class="nav-sub-item" data-page="khatmah" style="background:var(--card-bg); padding:15px; border-radius:10px; text-align:center; cursor:pointer">
    <i class="fas fa-quran" style="font-size:1.5rem; margin-bottom:5px; color:#2ECC71"></i>
    <div>ุงูุฎุชูุฉ</div>
</div>

            <!-- ูุณู ุชุซุจูุช ุงูุชุทุจูู ูู PWA -->
            <div style="margin-top:30px">
                <h3 class="section-title">๐ฑ ุชุซุจูุช ุงูุชุทุจูู</h3>
                
                <div class="settings-option" style="flex-direction:column; align-items:flex-start;">
                    <div style="font-weight:bold; margin-bottom:10px; color:var(--accent)">
                        <i class="fas fa-mobile-alt"></i> ุฅุถุงูุฉ ุฅูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ
                    </div>
                    <div style="font-size:0.9rem; opacity:0.8; margin-bottom:15px">
                        ููููู ุฅุถุงูุฉ ูุฐุง ุงูุชุทุจูู ูุชุทุจูู ุนูู ูุงุชูู ุฏูู ุงูุญุงุฌุฉ ูุชุญูููู ูู ุงููุชุฌุฑ
                    </div>
                    
                    <div style="display:flex; flex-direction:column; gap:15px; width:100%">
                        <div style="background:var(--card-bg); padding:12px; border-radius:10px; border-right:3px solid #4CAF50">
                            <div style="font-weight:bold; color:#4CAF50; margin-bottom:5px">
                                <i class="fab fa-android"></i> ููุฃูุฏุฑููุฏ:
                            </div>
                            <div style="font-size:0.85rem">
                                1. ุงูุชุญ ุงููุงุฆูุฉ (ุงูููุงุท ุงูุซูุงุซ) ุฃุนูู ุงููุชุตูุญ<br>
                                2. ุงุฎุชุฑ "ุฅุถุงูุฉ ุฅูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ"<br>
                                3. ุงุถุบุท ุนูู "ุฅุถุงูุฉ"
                            </div>
                        </div>
                        
                        <div style="background:var(--card-bg); padding:12px; border-radius:10px; border-right:3px solid #007AFF">
                            <div style="font-weight:bold; color:#007AFF; margin-bottom:5px">
                                <i class="fab fa-apple"></i> ููุขูููู:
                            </div>
                            <div style="font-size:0.85rem">
                                1. ุงูุชุญ ูุงุฆูุฉ ุงููุดุงุฑูุฉ ูู ุณูุงุฑู (ูุฑุจุน ุงูุณูู)<br>
                                2. ุงุณูู ููุฃุณูู ูุงุฎุชุฑ "ุฃุถู ุฅูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ"<br>
                                3. ุงุถุบุท ุนูู "ุฅุถุงูุฉ"
                            </div>
                        </div>
                        
                        <button onclick="triggerPWAInstall()" class="btn-outline" style="width:100%; background:var(--accent); color:var(--bg-color); border:none">
                            <i class="fas fa-download"></i> ุชุซุจูุช ุงูุชุทุจูู ุงูุขู
                        </button>
                    </div>
                </div>
            </div>
            
            <div style="margin-top:30px;">
                <button onclick="saveSettings()" class="btn-outline" style="width:100%">
                    <i class="fas fa-save"></i> ุญูุธ ุงูุฅุนุฏุงุฏุงุช
                </button>
                <button onclick="exportAllData()" class="btn-outline" style="width:100%; margin-top:10px;">
                    <i class="fas fa-download"></i> ุชุตุฏูุฑ ุฌููุน ุงูุจูุงูุงุช
                </button>
                <button onclick="resetApp()" class="btn-outline" style="width:100%; margin-top:10px; border-color:#ff4444; color:#ff4444">
                    <i class="fas fa-trash"></i> ุฅุนุงุฏุฉ ุงูุถุจุท
                </button>
            </div>
            
            <div style="text-align:center; margin-top:30px; opacity:0.6; font-size:0.8rem">
             ูุคุฐู  ุงูุจูุจ <br>
                ยฉ 2025 ุฌููุน ุงูุญููู ูุญููุธุฉ
<br>
                <br>
                ุจุฑูุฌุฉ ูุชุทููุฑ ุฅููุงุจ  ูุญูุฏ ููุฑู
            </div>
        </div>

        <!-- ุงูุดุฑูุท ุงูุณููู ุงูุซุงุจุช -->
        <nav class="bottom-nav">
            <div class="nav-item active" onclick="navTo('home')">
                <i class="fas fa-home"></i><span>ุงูุฑุฆูุณูุฉ</span>
            </div>
            <div class="nav-item" onclick="navTo('calendar')">
                <i class="fas fa-calendar-alt"></i><span>ุงูุชูููู</span>
            </div>
            <div class="nav-item" onclick="navTo('qibla')">
                <i class="fas fa-compass"></i><span>ุงููุจูุฉ</span>
            </div>
            <div class="nav-item" onclick="navTo('athkar')">
                <i class="fas fa-fingerprint"></i><span>ุงูุฃุฐูุงุฑ</span>
            </div>
            <div class="nav-item" onclick="navTo('live')">
                <i class="fas fa-video"></i><span>ุจุซ ูุจุงุดุฑ</span>
            </div>
            <div class="nav-item" onclick="navTo('quran')">
    <i class="fas fa-book-open"></i><span>ุงููุฑุขู</span>
</div>


            <div class="nav-item" onclick="navTo('settings')">
                <i class="fas fa-cog"></i><span>ุงููุฒูุฏ</span>
            </div>
        </nav>
    </div>

    <script>
        // ==================== ุงููุชุบูุฑุงุช ุงูุนุงูุฉ ====================
        
    </script>
      <div id="setup-modal" class="setup-overlay" style="display: none;">
        <div class="setup-card">
            <div class="setup-header">
                <i class="fas fa-kaaba fa-3x" style="color: var(--accent);"></i>
                <h2>ูุฑุญุจุงู ุจู ูู ุงููุคุฐู</h2>
                <p>ูููู ุจุถุจุท ุงูุฅุนุฏุงุฏุงุช ูู ุซูุงูู</p>
            </div>

            <div class="setup-step">
    <label><i class="fas fa-map-marker-alt"></i> ุชุญุฏูุฏ ุงููููุน</label>
    
    <div class="location-search-box">
        <button onclick="SetupManager.useGPS()" class="btn-gps pulse-btn" title="ุชุญุฏูุฏ ุชููุงุฆู">
            <i class="fas fa-crosshairs"></i>
        </button>
        <input type="text" id="city-search" placeholder="ุงูุชุจ ุงุณู ูุฏููุชู..." oninput="SetupManager.searchCity(this.value)">
    </div>
    
    <div class="input-hint">
        ุงุถุบุท ุนูู ุงูุฒุฑ ูุชุญุฏูุฏ ูููุนู ุชููุงุฆูุงูุ ุฃู ุงุจุญุซ ุจูุชุงุจุฉ ุงูุงุณู ูุฏููุงู.
    </div>

    <div id="search-results" class="search-results" style="display: none;"></div>
    
    <div id="selected-location-display" style="font-size: 0.8rem; color: var(--accent); margin-top: 5px; font-weight: bold;"></div>
</div>



            <div class="setup-step" style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                <label style="margin:0"><i class="fas fa-volume-up"></i> ุชูุนูู ุตูุช ุงูุฃุฐุงู</label>
                <label class="switch">
                    <input type="checkbox" id="setup-sound-toggle" checked>
                    <span class="slider"></span>
                </label>
            </div>

            <div class="setup-step">
    <label><i class="fas fa-calculator"></i> ุทุฑููุฉ ุงูุญุณุงุจ</label>
    <select id="setup-method">
    </select>
</div>


           <div class="setup-step">
    <label><i class="fas fa-palette"></i> ุงุฎุชุฑ ูุธูุฑ ุงูุชุทุจูู</label>
    <div class="theme-grid" id="setup-theme-grid">
        <div class="theme-option" onclick="selectSetupTheme(this, 'kaaba')" style="background: #000;" title="ุงููุนุจุฉ">๐</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'medina')" style="background: #134E5E;" title="ุงููุฏููุฉ">๐</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'royal')" style="background: #141E30;" title="ูููู">๐</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'paper')" style="background: #f5f5f5; border: 1px solid #ccc; color: #333;" title="ูุฑูู">๐</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'midnight')" style="background: #151515;" title="ูููู">๐</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'nature')" style="background: #0d3b2a;" title="ุทุจูุนุฉ">๐ฟ</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'ramadan')" style="background: #1a237e;" title="ุฑูุถุงู">๐</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'hajj')" style="background: #8B0000;" title="ุญุฌ">๐</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'sunset')" style="background: linear-gradient(to right, #FF512F, #F09819);" title="ุบุฑูุจ">๐</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'ocean')" style="background: linear-gradient(to right, #2193b0, #6dd5ed);" title="ูุญูุท">๐</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'desert')" style="background: linear-gradient(to right, #C02425, #F0CB35);" title="ุตุญุฑุงุก">๐๏ธ</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'golden')" style="background: #1A1A1A; border: 1px solid gold;" title="ุฐูุจู">๐</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'sky')" style="background: #87CEEB;" title="ุณูุงุก">๐ค๏ธ</div>
        <div class="theme-option" onclick="selectSetupTheme(this, 'purple-rain')" style="background: #4B0082;" title="ุฃุฑุฌูุงูู">๐</div>
  <button onclick="SetupManager.finish()" class="btn-outline" style="width: 100%; margin-top: 25px; background: var(--accent); color: var(--bg-color); border: none; padding: 15px; font-size: 1.1rem;">
    <i class="fas fa-check-circle"></i> ุญูุธ ูุจุฏุก ุงูุงุณุชุฎุฏุงู
</button>
  </div>
</div>
</div> </div>




<div id="surah-options-modal" class="modal-overlay" style="display:none;">
    <div class="modal-card" style="text-align: center; max-width: 350px;">
        <div class="modal-header">
            <h3 id="selected-surah-title" style="color: var(--accent); margin: 0;">ุณูุฑุฉ ...</h3>
            <button onclick="document.getElementById('surah-options-modal').classList.remove('active'); document.getElementById('surah-options-modal').style.display='none'" class="close-btn"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body">
            <p style="margin-bottom: 15px; opacity: 0.8;">ุงุฎุชุฑ ุงูุทุฑููุฉ ุงูููุงุณุจุฉ ูู:</p>
            <div class="options-grid">
                <button onclick="QuranManager.confirmAction('listen')" class="option-btn">
                    <i class="fas fa-headphones-alt"></i><span>ุงุณุชูุงุน ููุท</span>
                </button>
                <button onclick="QuranManager.confirmAction('read')" class="option-btn">
                    <i class="fas fa-book-open"></i><span>ูุฑุงุกุฉ ููุท</span>
                </button>
                <button onclick="QuranManager.confirmAction('tafseer')" class="option-btn">
                    <i class="fas fa-book-reader"></i><span>ูุฑุงุกุฉ ูุชูุณูุฑ</span>
                </button>
                <button onclick="QuranManager.confirmAction('sync')" class="option-btn">
                    <i class="fas fa-compact-disc"></i><span>ูุฑุงุกุฉ + ุงุณุชูุงุน</span>
                </button>
            </div>
        </div>
    </div>
</div>

<div id="quran-reader-view" class="reader-view" style="display:none;">
    <div class="reader-header-sticky">
        <button onclick="QuranManager.closeReader()" class="close-reader-btn">
            <i class="fas fa-arrow-right"></i> ุฎุฑูุฌ
        </button>
        <span id="reader-surah-name" style="font-size: 1rem;">ุณูุฑุฉ ...</span>
        <div style="width: 30px;">
            <button id="reader-stop-audio" onclick="QuranManager.stop()" style="background:none; border:none; color:red; display:none;">
                <i class="fas fa-stop-circle fa-lg"></i>
            </button>
        </div> 
    </div>

    <div id="reader-content" class="reader-content"></div>
    
    <div id="mini-audio-player" class="mini-player-bar" style="display:none;">
        <div style="font-size:0.8rem">ุฌุงุฑู ุงูุงุณุชูุงุน...</div>
        <div>
            <button onclick="QuranManager.pause()" class="btn-outline" style="padding: 5px 10px; font-size:0.8rem"><i class="fas fa-pause"></i></button>
            <button onclick="QuranManager.play()" class="btn-outline" style="padding: 5px 10px; font-size:0.8rem"><i class="fas fa-play"></i></button>
        </div>
    </div>
</div>





<script>
    function selectSetupTheme(element, themeName) {
        // ุฅุฒุงูุฉ ุงูุชุญุฏูุฏ ูู ุงูุฌููุน
        document.querySelectorAll('#setup-theme-grid .theme-option').forEach(el => {
            el.classList.remove('active');
            el.style.transform = 'scale(1)';
            el.style.borderColor = 'rgba(255,255,255,0.2)';
        });
        
        // ุฅุถุงูุฉ ุงูุชุญุฏูุฏ ููุนูุตุฑ ุงููุฎุชุงุฑ
        element.classList.add('active');
        element.dataset.theme = themeName; // ูุฎุฒู ุงูุงุณู ููุณุชุฎุฏูู ูู ุงูุญูุธ
        element.style.transform = 'scale(1.2)';
        element.style.borderColor = 'var(--accent)';
        
        // ุชุบููุฑ ุงูุซูู ููุฑุงู ูููุนุงููุฉ
        ThemeManager.change(themeName);
    }
</script>




</body>
</html>